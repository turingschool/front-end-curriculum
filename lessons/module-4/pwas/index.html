<html>
  <head>
    <title>Intro to Progressive Web Apps</title>
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Lato:300i" rel="stylesheet">
    <style type="text/css">
    #meta,h1{color:#fff}body,html{background-color:#f5f5f5;height:100%;margin:0;font-family:'Open Sans',sans-serif}a:link,a:visited{text-decoration:none;color:#05c2d1}#toc a:hover,a:hover{color:#000}blockquote{font-family:Lato,sans-serif;font-size:28px;width:90%}header{background-color:#3c4040}h1{margin:0;padding:20px 30px;font-weight:200}#view-toggle span.active,section h3{color:#333;font-weight:600}#meta{background-color:#05c2d1;font-size:11px;padding:1px 25px;left:0;bottom:0}#meta span{margin:0 5px}#wrapper{display:flex;min-height:100%}#toc{flex-grow:1;background:#f5f5f5;border-right:1px solid #ccc;box-shadow:inset 1px 1px 3px #666;padding:25px 30px;min-width:20%;z-index:2}#toc ol{list-style-type:none;padding:0;margin:0}#toc ol li{font-size:0.85em;padding:5px 0}#toc a:link,#toc a:visited{color:#3c4040}#content-container{flex-grow:3;padding:50px 60px;margin:-30px 8px 0 0;background:#fff;box-shadow:-1px -1px 2px #0097a2;position:relative}#content-container section{color:#555}#content-container hr{width:100%;height:1px;background-color:#eee;border:0;margin:50px 0}section .discuss h4,section h2{margin:0}#view-toggle{position:absolute;top:8px;right:10px;font-size:11px;color:#666}section h2,section h2 a{color:#000}section h3{margin:0;padding:20px 0 0}section p{line-height:1.5em}section ul{-webkit-padding-start:20px}section code{font-size:16px;color:#fc4b60}section .discuss{padding:20px;font-size:13px;background-color:#fefefe;border:1px solid #eee}section img.right{float:right;margin:20px 0 0 50px;max-width:45%}
    </style>
  </head>
  <body>
    <header>
      <h1>Intro to Progressive Web Apps</h1>
      <div id="meta">
        <p><span>Module 4</span> | <span>Mobile Development &raquo; PWAs</span></p>
      </div>
    </header>
    <div id="wrapper">
      <nav id="toc">
        <ol>
          <li><a href="#LessonGoals">Lesson Goals</a></li>
          <li><a href="#Introduction">What is a Progressive Web App?</a></li>
          <li><a href="#Characteristics">Characteristics of a PWA</a></li>
          <li><a href="#Manifest">The Manifest File</a></li>
          <li><a href="#HTTPS">Serving Content over HTTPS</a></li>
          <li><a href="#Checks">Checks for Understanding</a></li>
          <li><a href="#Resources">Further Reading & Resources</a></li>
        </ol>
      </nav>
      <div id="content-container">
        <nav id="view-toggle">
          <span>Slides</span> | <span class="active">Long Form</span>
        </nav>
        <section>
          <h2><a name="LessonGoals">Lesson Goals</a></h2>
          <p>Students should be able to:</p>
          <ul>
            <li>articulate what a Progressive Web App is</li>
            <li>describe several characteristics of a PWA</li>
            <li>implement a PWA manifest file and serve app content over HTTPS</li>
          </ul>
        </section>
        <hr />
        <section>
          <h2><a name="Introduction">What is a Progressive Web App</a></h2>
          <p>A Progressive Web App is a web application intended to look, feel and behave like a native application. When we talk about "native" applications in this context, we mean applications that are installed directly on your device, without having to navigate to them in the browser.</p>

          <div class="discuss">
            <h4>On The Whiteboard</h4>
            <p>Take a couple of minutes to play with the applications you have installed on your mobile devices. Use them with wifi on, wifi off, airplane mode, etc. Take note of how they look, how you use them, and the overall feel and experience. How do you access the application? What happens when you have different settings on your phone? Does the app you're looking at have a web app equivalent? How is it similar to the web app? How is it different?</p>
            <p>Make a list on the whiteboard of these similarities and differences.</p>
          </div>

          <h3>What Caused the Push for PWAs?</h3>
          <p>Progressive Web Apps are gaining a lot of traction in the web development community for several reasons:</p>
          <ul>
            <li><b>Modern-day platforms all have the web in common already.</b> Because we have a browser on our tablets, laptops and mobile devices, all of these platforms can already support web apps out of the box.</li>
            <li><b>Making the web more robust makes us more efficient.</b> If we only have to develop web apps, this will reduce the amount of time, money and effort that goes into creating cross-platform applications.</li>
          </ul>
          <p>For example, if we were building an application like Twitter - we would have to build not only a web application, but also an iOS and Android app. Because these platforms differ so much, and use different technologies, we'd have to hire three separate teams to build three different versions of the same exact application. That's a huge waste of resources.</p>
          <p>Up until recently, the web platform was simply not robust enough to provide the same experiences that we get with native applications. A slew of new Web APIs like <b>Service Workers</b>, <b>Background Sync</b>, and <b>Push Notifications</b> aim to close this gap and make the web a better contender against native applications.</p>

        </section>
        <hr />

        <section>
          <h2><a name="Characteristics">Characteristics of a PWA</a></h2>
          <p>We've already talked a little bit about the differences between native applications and regular web apps. Remember that Progressive Web Apps are trying to bridge this gap by closing up some of these differences. This should give you a hint as to what we might expect from a PWA. The most crucial characteristics of a PWA are as follows:</p>
          <ul>
            <li>responsive design</li>
            <li>performant on slower network speeds</li>
            <li>installable and launchable from the home screen</li>
            <li>all content served over HTTPS</li>
            <li>provides some form of offline experience</li>
          </ul>
          <p>While this is just a handful of ways we would describe a PWA, we can dig further into a larger checklist of requirements for building PWAs by using Chrome's Developer Tools.</p>

          <h3>Auditing a PWA</h3>
          <p>Initially there existed a tool called Lighthouse, which would help automate the process of checking to see if your application met all the requirements of a Progressive Web App. This tool was eventually rolled directly into the Chrome Developer Tools, and can give us insight into how well a particular app fits the bill.</p>

          <div class="discuss">
            <h4>Practice</h4>
            <p>Pick an app from <a href="https://pwa.rocks/">pwa.rocks</a> and open it in your browser. Using Chrome Canary, open developer tools and navigate to the 'Audits' panel. Click on the 'Perform An Audit' button and run an audit for 'Progressive Web App'.</p>
            <p>When the audit is finished running, dig into the failing and passing checks that are listed. Expand each one to understand what requirement it refers to.</p>
          </div>

        </section>
        <hr />

        <section>
          <h2><a name="Manifest">The Manifest File</a></h2>
          <p>We previously mentioned that a PWA must be installable and launchable from your device. The way we can achieve this is by adding a <b>Web App Manifest</b> file to our applications. The manifest file contains a number of configuration options and information about your app such as logos, brand colors, installation setup, etc.</p>
          <p>We can set up a manifest file by creating a simple JSON file. Here's an example with some bare minimum requirements:</p>

          <script src="https://gist.github.com/brittanystoroz/21317999ce83565d73048d48b14bb518.js"></script>

          <p>Take a look through the manifest documentation <a href="https://developers.google.com/web/fundamentals/web-app-manifest/">here</a> to gain a further understanding of each of these properties.</p>
          <p>After our manifest file is set up, we need to tell the browser that it exists. We can do this by adding a link tag in our HTML like so: <pre><code> < link rel="manifest" href="/manifest.json"> </code></pre></p>

          <p>These manifest files provide all the information our application needs in order to show an <b>Installation Banner</b>, which will prompt the user to install the web app to their home screen just like a native application. Installation banners are shown under a couple of conditions. They're generally shown to a user if you have visited the app in the browser more than once over the course of a week, but this could change or vary depending on your device.</p>

          <div class="discuss">
            <h4>See it in Action</h4>
            <p>Grab an Android buddy and pick an application from <a href="https://pwa.rocks">pwa.rocks</a>. (The 2048 game is a great candidate.) The Android user should open the app in their browser, close their browser completely, then open it again and navigate to the application. See if you can trigger the installation banner to appear, and have the user choose to install the app on their home screen.</p> 
          </div>

          <p>Note that in the above practice section, we all had to gather around an Android user in order to see the installation banner appear. This is because PWA technologies are not yet supported in Safari. Sorry, iPhone users! Apple is making progress towards supporting Progressive Web Apps, but it will likely still be another two years or so before they are completely functional on those platforms. This is why technologies like React Native are so popular, because they can be used today across platforms. In the future, we expect that strategy to dwindle in favor of PWAs.</p>

          <div class="discuss">
            <h4>Practice</h4>
            <p>Add a manifest file to your Palette Picker application and fill out the configuration options. Run a PWA Audit on your application through DevTools and fix any failing checks related to your manifest file.</p>
            <p><em>Hint: Put the manifest file in your public directory next to your HTML index. A quick way to create the required logo sizes is by using a service like <a href="https://placebear.com/">placebear</a>. (You can go back later and make these icons more relevant to your application.)</em></p> 
          </div>


        </section>
        <hr />
        
        <section>
          <h2><a name="HTTPS">Serving Content over HTTPS</a></h2>
          <p>One of the other main requirements of a Progressive Web App is that all content must be served over HTTPS. You may have noticed in some of the PWAs you looked at earlier, that their audits would pass on the check that says 'Serves content over HTTPS' but fail on the check that says 'HTTP content redirected to HTTPS'.</p>
          <p>This is because it's not simply enough to <b>support</b> HTTPS in your applications, you must <b>enforce</b> HTTPS. This means that if someone types <code>http://yourapp.com</code>, your app must automatically redirect them to <code>https://yourapp.com</code>. This takes a little bit of work, but can be done in just a few lines of code.</p>

          <div class="discuss">
            <h4>Practice</h4>
            <p>Do some research on how to redirect all HTTP content to HTTPS, and try to find a solution that works for Node/Express applications. Then, using your Palette Picker projects, redirect all HTTP traffic to HTTPS.</p>
            <p><em>Hint: You'll be adding some middleware to your server file that will detect if a request came in with HTTP, and redirect to HTTPS.</em></p>
          </div>

        </section>
        <hr />

        <section>
          <h2><a name="Checks">Checks for Understanding</a></h2>
          <ul>
            <li>What is a Progressive Web App?</li>
            <li>Why has the tech community made a big push for PWA support?</li>
            <li>What are 3 main characteristics of a PWA?</li>
            <li>What are some of the new web APIs that facilitate creating PWAs?</li>
          </ul>
        </section>
        <hr />

        <section>
          <h2><a name="Resources">Further Reading & Resources</a></h2>
          <ul>
            <li><a href="http://blog.ionic.io/what-is-a-progressive-web-app/">Ionic Blog - What is a PWA?</a></li>
            <li><a href="https://developers.google.com/web/progressive-web-apps/checklist">PWA Checklist</a></li>
            <li><a href="https://developer.mozilla.org/en-US/docs/Web/Manifest">Web App Manifest</a></li>
            <li><a href="https://developers.google.com/web/tools/lighthouse/">Lighthouse Audits</a></li>
          </ul>
        </section>
      </div>
    </div>
    <script
      src="https://code.jquery.com/jquery-3.2.1.min.js"
      integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
      crossorigin="anonymous"></script>
    <script type="text/javascript" src="./main.js"></script>
  </body>
</html>